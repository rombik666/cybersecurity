# Учебный пример "Светофор"

## Краткое описание проектируемой системы
![Светофор](images/traffic_light.png)
Мы разрабатываем умный светофор, получающий команды из центральной системы управления городским наземным транспортом.

Особенности: 

- Светофор управляется центральной системой по беспроводному интерфейсу
- Светофор передаёт состояние в центральную систему

## Ключевые ценности, ущербы, неприемлемые события

|Ценность | Негативное событие | Оценка ущерба | Комментарий |
|-|-|-|-|
| люди    | два разрешающих сигнала в пересекающихся направлениях привели к дтп с пострадавшими | высокий | | 
| скорость движения | из-за неправильной работы светофора образовалась пробка | средний |можно вызвать человека-регулировщика|

## Контекст

![Контекстная диаграмма](images/traffic_light_context_diagram.png)

## Основные функциональные сценарии

![Базовый функциональный сценарий](images/traffic_light_main_scenario.png)

## Высокоуровневая архитектура

![Высокоуровневая архитектура](images/traffic_light_hla.png)

### Описание подсистем

|Название | Назначение |
|-|-|
| 1. Связь | отвечает за взаимодействие с городской системой управления дорожным  движением |
| 2. Система управления светофора | отвечает за тайминг и выдачу команд модулю управления светодиодами. Работает в соответствии с полученным сценарием |
| 3. Управление светодиодами | включает или выключает светодиоды светофора согласно полученным командам |
| 4. Система диагностики | получает и анализирует информацию о состоянии подсистем, передаёт системе управления светофором |

## Расширенные диаграммы функциональных сценариев

* иллюстрация взаимодействия подсистем, указанных в высокоуровневой архитектуре

![Расширенная диаграмма базового сценария](images/traffic_light_main_scenario_with_hla.png)

## Цели и предположения безопасности

### Цели безопасности
1. При любых обстоятельствах загораются только незапрещенные сочетания

### Предположения безопасности

1. физическая безопасность светофора обеспечена

### Таблица соотнесения ценностей, неприемлемых событий и целей безопасности

|Ценность | Негативное событие | Оценка ущерба | Цель безопасности |
|-|-|-|-|
| люди    | два разрешающих сигнала в пересекающихся направлениях привели к дтп с пострадавшими | высокий | 1 | 
| скорость движения | из-за неправильной работы светофора образовалась пробка | средний | - |

## Негативные сценарии

![НС1](images/traffic_light_ns1_connectivity.png)

## Политика архитектуры

### Версия 1

![Политика архитектуры](images/traffic_light_architecture_policy.png)

| Домен безопасности | Уровень доверия | Оценка сложности и размера домена | Обоснование |
|-|-|-|-|
| 1. Связь | недоверенный | MM | при компрометации нарушение ЦБ блокируется проверкой в системе управления |
| 2. Система управления |  доверенный, повышающий целостность данных | MM |при компрометации нарушается ЦБ1 |
| 3. Управление светодиодами | доверенный | SS | при компрометации нарушается ЦБ1 |
| 4. Система диагностики | недоверенный | MM | в худшем случае замедляется время реакции городских служб на поломку светофора, не нарушает ЦБ |

### Версия 2

![Политика архитектуры v2](images/traffic_light_architecture_policy_v2.png)

| Домен безопасности | Уровень доверия | Оценка сложности и размера домена | Обоснование |
|-|-|-|-|
| 1. Связь | недоверенный | MM |при компрометации нарушение ЦБ блокируется проверкой в системе контроля конфигураций |
| 2. Система управления | недоверенный | MM |при компрометации нарушение ЦБ блокируется проверкой в системе контроля конфигураций |
| 3. Управление светодиодами | доверенный | SS | при компрометации нарушается ЦБ1 |
| 4. Система диагностики | недоверенный | MM |в худшем случае замедляется время реакции городских служб на поломку светофора, не нарушает ЦБ |
| 5. Контроль конфигурации | доверенный, повышающий целостность данных | SS | при компрометации нарушается ЦБ1 |


## Прототип системы

[Прототип в виде Jupyter блокнота](https://github.com/cyberimmunity-edu/cyberimmune-systems-example-traffic-light-jupyter-notebook/blob/master/cyberimmunity-traffic-lights-example.ipynb)

[Прототип на KasperskyOS](https://github.com/cyberimmunity-edu/cyberimmune-systems-example-traffic-light-kos) - используется как учебный пример для курса "Кибериммунная разработка на KasperskyOS"
